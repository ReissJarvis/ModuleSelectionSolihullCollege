<div ng-controller="addstudent as addStudent" ng-init="init()">

    <div class="leftdiv">
        <label><span>Student Name :</span>{{addStudent.getstudent().name}}</label>
        <label><span>Student Company :</span>{{addStudent.getstudent().company}}</label>

        Student modules :
        <div ng-repeat="item in addStudent.get().modules track by $id(item)">
            {{item.modulecode}} <span class="remove" ng-click="addStudent.removeModule(item.modulecode,item.credits)">[Remove]</span>
        </div>
    </div>
    <div class="rightdiv">
        <form>
            Credits Used : {{addStudent.credits}}
            <div>
                <ul>
                    <li ng-hide="addStudent.rule.unitflag">{{addStudent.rule.unitflag_text}}</li>
                    <li ng-hide="addStudent.rule.totalcredits">{{addStudent.rule.totalcredits_text}}</li>
                    <li ng-hide="addStudent.rule.minimumcredits">{{addStudent.rule.minimumcredits_text}}</li>
                    <li ng-hide="addStudent.rule.maximumunit">{{addStudent.rule.maximumunit_text}}</li>
                    <li ng-hide="addStudent.rule.maximumcredits">{{addStudent.rule.maximumcredits_text}}</li>
                </ul>
            </div>
            <div ng-hide="addStudent.loaded">
                Loading modules......
            </div>
                     <table ng-show="addStudent.loaded">
                <tr>
                    <th>Module Code</th>
                    <th>Name</th>
                    <th>Credits</th>
                    <th></th>
                </tr>
                    <tr ng-repeat="item in addStudent.modules track by $id(item)" ng-show="!addStudent.modules[parseInt(item.value._id, 10)].show">
                        <td>{{item.value._id}}</td>
                        <td>{{item.value.name}}</td>
                        <td>{{item.value.credits}}</td>
                        <td>
                            <button ng-click="addStudent.addModule(item.value._id, item.value.credits)" ng-hide="addStudent.buttons[parseInt(item.value._id, 10)]">
                                Add
                            </button>
                        </td>
                    </tr>
            </table>
            <label><span></span>
                <button ng-click="addStudent.Next()">
                    Next
                </button>
            </label>
        </form>
    </div>
</div>